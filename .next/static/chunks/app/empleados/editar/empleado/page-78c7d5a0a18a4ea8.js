(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6699],{9702:function(e,a,t){Promise.resolve().then(t.bind(t,1804))},1804:function(e,a,t){"use strict";t.r(a);var n=t(7437),o=t(2265),i=t(7648),r=t(1117),s=t.n(r),c=t(4868),d=t(4067),l=t(9376),u=t(8116),m=t(605);a.default=function(){let{data:e,status:a}=(0,m.useSession)(),t=(0,l.useSearchParams)(),r=(0,l.useRouter)(),p=t.get("id"),[_,h]=(0,o.useState)(!0),[v,x]=(0,o.useState)(""),[f,j]=(0,o.useState)(!1),[g,k]=(0,o.useState)(""),[S,b]=(0,o.useState)(!1),[N,C]=(0,o.useState)(""),[E,P]=(0,o.useState)(!1),[w,y]=(0,o.useState)(""),[I,T]=(0,o.useState)(!1),[A,L]=(0,o.useState)(""),[D,z]=(0,o.useState)(!1),[H,O]=(0,o.useState)(""),[F,U]=(0,o.useState)(""),[G,J]=(0,o.useState)(""),[V,Y]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{"Administrador"===e.user.role?fetch("/api/empleados/".concat(p)).then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.json()}).then(e=>{k(e.emp_nombre),C(e.emp_apellido),y(e.emp_num_tel),L(e.emp_rol),O(e.emp_hora_entrada),U(e.emp_hora_salida),J(e.emp_estado),h(!1)}).catch(e=>{x(e),h(!1)}):r.push("/")},[p,r]),_)?(0,n.jsx)(u.Z,{}):v?(0,n.jsxs)("p",{children:["Error: ",v.message]}):(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:s().navegacion,children:(0,n.jsxs)("h4",{children:[(0,n.jsx)(i.default,{href:"/empleados",className:s().link,children:"Empleados"})," ","\\ Editar \\ Empleado"]})}),(0,n.jsxs)("div",{className:s().contenedor,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{children:"Datos del Empleado"}),(0,n.jsx)(c.II,{placeholder:"Nombre",type:"text",value:g,onChange:e=>{k(e)},validation:S}),(0,n.jsx)(c.II,{placeholder:"Apellidos",type:"text",value:N,onChange:e=>{C(e)},validation:E}),(0,n.jsx)(c.II,{placeholder:"Tel\xe9fono",type:"number",value:w,onChange:e=>{y(e)},validation:I}),(0,n.jsx)(c.Ph,{text:"Cargo",data:[{id:1,nombre:"Encargado"},{id:2,nombre:"Chofer"},{id:3,nombre:"Oficina"},{id:4,nombre:"Cargador"}],onSelect:e=>{L(e)},validar:D}),(0,n.jsx)(c.Ph,{text:"Estado",data:[{id:1,nombre:"disponible"},{id:2,nombre:"ocupado"}],onSelect:e=>{J(e)},validar:V}),(0,n.jsx)(d.a,{text:"Hora de Entrada:",time:H,timeSelect:e=>{O(e)}}),(0,n.jsx)(d.a,{text:"Hora de Salida",time:F,timeSelect:e=>{U(e)}})]}),(0,n.jsx)("div",{className:s().botones,children:(0,n.jsx)(c.zx,{text:"Editar",type:"aceptar",onPress:()=>{""==g?b(!0):""==N?P(!0):w<0?T(!0):""==A||"ninguno"==A?z(!0):"ninguno"==G||""==G?Y(!0):j(!0)}})})]}),(0,n.jsx)(c.u_,{show:f,title:"Editar Empleado",message:"\xbfDeseas guardar los cambios hechos a este empleado?",handleClose:()=>{j(!1)},handleAccept:()=>{fetch("/api/empleados/".concat(p),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({emp_nombre:g,emp_apellido:N,emp_num_tel:w,emp_rol:A,emp_hora_entrada:H,emp_hora_salida:F,emp_estado:G})}).then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.json()}).catch(e=>{console.log(e.message)}),r.push("/empleados")}})]})}},8116:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});var n=t(7437);t(2265);var o=t(6065),i=t.n(o);function r(){return(0,n.jsxs)("div",{className:i().contenedor,children:[(0,n.jsx)("div",{className:i().cuadrado1}),(0,n.jsx)("div",{className:i().cuadrado2})]})}},4067:function(e,a,t){"use strict";t.d(a,{F:function(){return d},a:function(){return r}});var n=t(7437);t(2265);var o=t(5338),i=t.n(o),r=function(e){let{text:a,timeSelect:t,time:o,validation:r}=e;return(0,n.jsxs)("div",{className:i()["time-picker-container"],children:[(0,n.jsx)("label",{htmlFor:"time",className:"".concat(i()["time-picker-label"]," ").concat(r?i().validation:""),children:a}),(0,n.jsx)("input",{id:"time",type:"time",value:o,onChange:e=>{t(e.target.value)},className:"".concat(i()["time-picker-input"]," ").concat(r?i().validation:""),step:"300"})]})},s=t(480),c=t.n(s),d=function(e){let{text:a,value:t,onChange:o,validation:i}=e;return(0,n.jsxs)("div",{className:"".concat(c().container," ").concat(i?c().validation:""),children:[(0,n.jsx)("label",{children:a}),(0,n.jsx)("input",{className:"".concat(c().date," ").concat(i?c().validation:""),type:"date",value:t,onChange:e=>{o(e.target.value)}})]})}},1117:function(e){e.exports={navegacion:"page_navegacion__mALzo",contenedor:"page_contenedor__bhLa9",link:"page_link__vVUWY",botones:"page_botones__94LlK"}},480:function(e){e.exports={container:"DatePick_container__Iz8Yd",date:"DatePick_date__H2cuu",validation:"DatePick_validation__xtQCJ"}},5338:function(e){e.exports={"time-picker-container":"TimePick_time-picker-container__ypGNX","time-picker-label":"TimePick_time-picker-label__UzI3b","time-picker-input":"TimePick_time-picker-input__AxGwA",validation:"TimePick_validation__FDMTC"}},6065:function(e){e.exports={cuadrado1:"LoadingScreen_cuadrado1__7A200",cuadrado2:"LoadingScreen_cuadrado2__NNxpH",moverCuadrado1:"LoadingScreen_moverCuadrado1__8i1jV",moverCuadrado2:"LoadingScreen_moverCuadrado2__pz35P"}}},function(e){e.O(0,[9488,7123,1316,8153,6307,7648,4868,2971,2117,1744],function(){return e(e.s=9702)}),_N_E=e.O()}]);