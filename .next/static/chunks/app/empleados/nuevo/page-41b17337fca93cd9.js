(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9271],{7596:function(e,a,t){Promise.resolve().then(t.bind(t,1598))},1598:function(e,a,t){"use strict";t.r(a);var n=t(7437),i=t(2265),o=t(7648),s=t(1001),l=t.n(s),r=t(4868),c=t(4067),d=t(9376),u=t(4266),p=t.n(u),m=t(605);a.default=function(){let{data:e,status:a}=(0,m.useSession)(),t=(0,d.useRouter)(),[s,u]=(0,i.useState)(""),[h,_]=(0,i.useState)(!1),[v,x]=(0,i.useState)(""),[g,j]=(0,i.useState)(!1),[f,S]=(0,i.useState)(""),[k,b]=(0,i.useState)(!1),[C,N]=(0,i.useState)(""),[y,I]=(0,i.useState)(!1),[E,P]=(0,i.useState)(""),[w,T]=(0,i.useState)(!1),[A,D]=(0,i.useState)(""),[O,U]=(0,i.useState)(""),[F,H]=(0,i.useState)(!1),[z,Q]=(0,i.useState)("08:00"),[B,G]=(0,i.useState)("16:00"),[J,K]=(0,i.useState)(null),[M,R]=(0,i.useState)(""),[V,X]=(0,i.useState)(!1);(0,i.useEffect)(()=>{"Administrador"!==e.user.role&&t.push("/")},[e,t]);let Y=async e=>{let a=await p().genSalt(10);return await p().hash(e,a)};return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:l().navegacion,children:(0,n.jsxs)("h4",{children:[(0,n.jsx)(o.default,{href:"/empleados",className:l().link,children:"Empleados"})," ","\\ Nuevo"]})}),(0,n.jsxs)("div",{className:l().container,children:[(0,n.jsx)("h4",{children:"Datos del Empleado"}),(0,n.jsx)(r.II,{placeholder:"Nombre del Empleado",type:"text",value:s,onChange:e=>{u(e)},validation:h}),(0,n.jsx)(r.II,{placeholder:"Apellidos del Empleado",type:"text",value:v,onChange:e=>{x(e)},validation:g}),(0,n.jsx)(r.Ph,{data:[{id:1,nombre:"Encargado"},{id:2,nombre:"Chofer"},{id:3,nombre:"Cargador"},{id:4,nombre:"Oficina"}],onSelect:e=>{S(e)},text:"Puesto: ",validar:k}),(0,n.jsx)(r.II,{placeholder:"Tel\xe9fono",type:"number",value:C,onChange:e=>{N(e)},validation:y}),(0,n.jsx)(c.a,{text:"Hora de Entrada: ",timeSelect:e=>{Q(e)},time:z}),(0,n.jsx)(c.a,{text:"Hora de Salida: ",timeSelect:e=>{G(e)},time:B}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{children:"Datos de Usuario"}),(0,n.jsx)(r.II,{placeholder:"Nombre de Usuario",value:E,type:"text",onChange:e=>{P(e)},validation:w}),(0,n.jsx)(r.II,{placeholder:"Contrase\xf1a",value:A,type:"password",onChange:e=>{D(e)},validation:F}),(0,n.jsx)(r.II,{placeholder:"Confirmar Contrase\xf1a",value:O,type:"password",onChange:e=>{U(e)},validation:F})]}),(0,n.jsx)("div",{className:l().botones,children:(0,n.jsx)(r.zx,{text:"Agregar Empleado",type:"aceptar",onPress:()=>{""==s&&_(!0),""==v&&j(!0),"ninguno"==f&&b(!0),(C<=0||C>1e10||""==C)&&I(!0),""==E&&T(!0),A!=O||""==A||""==O?H(!0):!1==h&&!1==g&&!1==k&&!1==y&&!1==w&&!1==F&&(X(!0),Y(A).then(e=>{R(e)}),_(!1),j(!1),I(!1),b(!1),T(!1),H(!1))}})})]}),(0,n.jsx)(r.u_,{show:V,title:"Agregar Empleado",message:"Se agregara un nuevo empleado a la lista de empleados",handleClose:()=>{X(!1)},handleAccept:()=>{fetch("/api/empleados",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({emp_nombre:s,emp_apellido:v,emp_num_tel:C,emp_rol:f,emp_estado:"disponible",emp_usuario:E,emp_contraseÃ±a:M,emp_hora_entrada:z,emp_hora_salida:B,emp_foto:J})}).then(e=>e.json()).catch(e=>{console.log(e.message)}),X(!1),t.push("/empleados")}})]})}},4067:function(e,a,t){"use strict";t.d(a,{F:function(){return c},a:function(){return s}});var n=t(7437);t(2265);var i=t(5338),o=t.n(i),s=function(e){let{text:a,timeSelect:t,time:i,validation:s}=e;return(0,n.jsxs)("div",{className:o()["time-picker-container"],children:[(0,n.jsx)("label",{htmlFor:"time",className:"".concat(o()["time-picker-label"]," ").concat(s?o().validation:""),children:a}),(0,n.jsx)("input",{id:"time",type:"time",value:i,onChange:e=>{t(e.target.value)},className:"".concat(o()["time-picker-input"]," ").concat(s?o().validation:""),step:"300"})]})},l=t(480),r=t.n(l),c=function(e){let{text:a,value:t,onChange:i,validation:o}=e;return(0,n.jsxs)("div",{className:"".concat(r().container," ").concat(o?r().validation:""),children:[(0,n.jsx)("label",{children:a}),(0,n.jsx)("input",{className:"".concat(r().date," ").concat(o?r().validation:""),type:"date",value:t,onChange:e=>{i(e.target.value)}})]})}},1001:function(e){e.exports={navegacion:"page_navegacion__UFKmQ",link:"page_link__UmVmB",container:"page_container__1Q_yh",botones:"page_botones__B0o4H"}},480:function(e){e.exports={container:"DatePick_container__Iz8Yd",date:"DatePick_date__H2cuu",validation:"DatePick_validation__xtQCJ"}},5338:function(e){e.exports={"time-picker-container":"TimePick_time-picker-container__ypGNX","time-picker-label":"TimePick_time-picker-label__UzI3b","time-picker-input":"TimePick_time-picker-input__AxGwA",validation:"TimePick_validation__FDMTC"}}},function(e){e.O(0,[7123,8153,8218,6307,7648,4722,4868,2971,2117,1744],function(){return e(e.s=7596)}),_N_E=e.O()}]);