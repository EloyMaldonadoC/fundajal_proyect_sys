(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6388],{6432:function(e,o,n){Promise.resolve().then(n.bind(n,2546))},2546:function(e,o,n){"use strict";n.r(o);var r=n(7437),a=n(2265),s=n(8682),t=n.n(s),c=n(7648),i=n(9376),l=n(8116),d=n(4868),u=n(605);o.default=function(){let{data:e,status:o}=(0,u.useSession)(),n=(0,i.useRouter)(),[s,h]=(0,a.useState)(null),[p,_]=(0,a.useState)(""),[f,m]=(0,a.useState)([]),[g,k]=(0,a.useState)(null),[j,x]=(0,a.useState)("ninguno"),[v,N]=(0,a.useState)("ninguno");(0,a.useEffect)(()=>{"Administrador"===e.user.role?fetch("/api/empleados").then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.json()}).then(e=>{m(e),h(!1),console.log(e)}).catch(e=>{_(e),h(!1)}):n.push("/")},[n]);let w=e=>{console.log(e),"ninguno"==e?fetch("/api/empleados").then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.json()}).then(e=>{m(e),h(!1),console.log(e)}).catch(e=>{_(e),h(!1)}):fetch("/api/empleados/filtrar/cargo/".concat(e)).then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.json()}).then(e=>{m(e),h(!1),console.log(e)}).catch(e=>{_(e),h(!1)})},E=e=>{console.log(e),"ninguno"==e?fetch("/api/empleados").then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.json()}).then(e=>{m(e),h(!1),console.log(e)}).catch(e=>{_(e),h(!1)}):fetch("/api/empleados/filtrar/disponibilidad/".concat(e)).then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.json()}).then(e=>{m(e),h(!1),console.log(e)}).catch(e=>{_(e),h(!1)})},b=e=>{fetch("/api/empleados/".concat(e)).then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.json()}).then(e=>{k(e),h(!1),console.log(e[0])}).catch(e=>{_(e),h(!1)})};return s?(0,r.jsx)(l.Z,{}):p?(0,r.jsxs)("p",{children:["Error: ",p.message]}):(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:t().navegacion,children:(0,r.jsxs)("h4",{children:[(0,r.jsx)(c.default,{href:"/empleados",className:t().link,children:"Empleados"})," ","\\"]})}),(0,r.jsxs)("div",{className:t().filtro,children:[(0,r.jsxs)("div",{className:t().selects,children:[(0,r.jsx)(d.Ph,{text:"Filtrar por Rol: ",data:[{id:1,nombre:"Cargador"},{id:2,nombre:"Encargado"},{id:3,nombre:"Chofer"}],onSelect:e=>{w(e)}}),(0,r.jsx)(d.Ph,{text:"Filtrar por Disponibilidad: ",data:[{id:1,nombre:"disponible"},{id:2,nombre:"ocupado"}],onSelect:e=>{E(e)}})]}),(0,r.jsx)(d.zx,{text:"Agregar Un Nuevo Empleado",type:"cancelar",onPress:()=>{n.push("/empleados/nuevo")}})]}),(0,r.jsxs)("div",{className:t().container,children:[(0,r.jsx)("div",{className:t().table,children:(0,r.jsx)(d.AE,{empleados:f,onClickRow:e=>{b(e)}})}),(0,r.jsx)("div",{className:t().info,children:(0,r.jsx)(d.H5,{empleado:g})})]})]})}},8116:function(e,o,n){"use strict";n.d(o,{Z:function(){return t}});var r=n(7437);n(2265);var a=n(6065),s=n.n(a);function t(){return(0,r.jsxs)("div",{className:s().contenedor,children:[(0,r.jsx)("div",{className:s().cuadrado1}),(0,r.jsx)("div",{className:s().cuadrado2})]})}},8682:function(e){e.exports={navegacion:"page_navegacion__Unpmr",link:"page_link__1AHGT",picker:"page_picker__JfhI3",filtro:"page_filtro__JV8EV",selects:"page_selects__krai_",container:"page_container__M_Dhi",table:"page_table__3hkmr",info:"page_info__Rd47K"}},6065:function(e){e.exports={cuadrado1:"LoadingScreen_cuadrado1__7A200",cuadrado2:"LoadingScreen_cuadrado2__NNxpH",moverCuadrado1:"LoadingScreen_moverCuadrado1__8i1jV",moverCuadrado2:"LoadingScreen_moverCuadrado2__pz35P"}}},function(e){e.O(0,[1316,7123,8153,6307,7648,4868,2971,2117,1744],function(){return e(e.s=6432)}),_N_E=e.O()}]);