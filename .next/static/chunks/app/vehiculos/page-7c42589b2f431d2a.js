(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6261],{6993:function(e,a,r){Promise.resolve().then(r.bind(r,8771))},8771:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return g}});var n=r(7437),s=r(2265),o=r(7648),c=r(9118),i=r.n(c),t=r(9376),d=r(8116),l=r(4868),_=r(955),u=r.n(_),h=function(e){let{vehiculo:a}=e,r=(0,t.useRouter)(),s=e=>{r.push("/vehiculos/informacion?id=".concat(e))};return(0,n.jsxs)("div",{className:u().container,onClick:()=>{s(a.ve_id)},children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("h4",{children:[a.ve_marca," ",a.ve_modelo," ",a.ve_ano]}),(0,n.jsx)("img",{src:a.ve_imagen,alt:"Imagen de Vehiculo",className:u().imagen})]}),(0,n.jsxs)("div",{className:u().datos,children:[(0,n.jsxs)("p",{className:u().text,children:["Agencia: ",a.ve_agencia]}),(0,n.jsxs)("p",{className:u().text,children:["Capacidad: ",a.ve_capacidad," Kg"]}),(0,n.jsxs)("p",{className:u().text,children:["Propietario: ",a.ve_propietario]}),(0,n.jsxs)("p",{className:u().text,children:["Entidad: ",a.ve_entidad]}),(0,n.jsxs)("p",{className:u().text,children:["Placas: ",a.ve_placas]}),(0,n.jsxs)("div",{className:u().status,children:[(0,n.jsxs)("p",{className:u().text,children:["Estado Operativo: ",a.ve_estatus_gen]}),(0,n.jsx)("div",{className:"".concat(u().circle," ").concat("Optimo"==a.ve_estatus_gen&&u().green," ").concat("Revisi\xf3n"==a.ve_estatus_gen&&u().orange," ").concat("Fuera de Servicio"==a.ve_estatus_gen&&u().red)})]})]})]})},v=r(605),x=r(8999),m=r.n(x),g=function(){let{data:e,status:a}=(0,v.useSession)(),r=(0,t.useRouter)(),[c,_]=(0,s.useState)(!0),[u,x]=(0,s.useState)(""),[g,p]=(0,s.useState)([]);(0,s.useEffect)(()=>{"Administrador"===e.user.role?fetch("/api/vehiculos").then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.json()}).then(e=>{p(e),console.log(e),_(!1)}).catch(e=>{x(e),_(!1)}):r.push("/")},[r]);let j=e=>{console.log(e),"ninguno"==e?fetch("/api/vehiculos").then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.json()}).then(e=>{p(e),console.log(e)}).catch(e=>{x(e),_(!1)}):fetch("/api/vehiculos/filtrar/estado/".concat(e)).then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.json()}).then(e=>{p(e),_(!1),console.log(e)}).catch(e=>{x(e),_(!1)})};return c?(0,n.jsx)("div",{className:i().loadingScreen,children:(0,n.jsx)(d.Z,{})}):u?(0,n.jsx)("div",{className:i().error,children:(0,n.jsxs)("div",{className:i().errorContent,children:[(0,n.jsx)(m(),{className:i().textIcon,name:"cloud-offline-outline"}),(0,n.jsx)("p",{className:i().textError,children:"No hay Conexi\xf3n"})]})}):(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:i().navegacion,children:(0,n.jsxs)("h4",{children:[(0,n.jsx)(o.default,{href:"/vehiculos",className:i().link,children:"Vehiculos"})," ","\\"]})}),(0,n.jsxs)("div",{className:i().filtro,children:[(0,n.jsx)("div",{children:(0,n.jsx)(l.Ph,{text:"Fitrar por estado: ",data:[{id:1,nombre:"Optimo"},{id:2,nombre:"Revisi\xf3n"},{id:3,nombre:"Fuera de Servicio"}],onSelect:e=>{j(e)}})}),(0,n.jsx)("div",{children:(0,n.jsx)(l.zx,{text:"A\xf1adir Nuevo",type:"cancelar",onPress:()=>{r.push("vehiculos/nuevo/")}})})]}),(0,n.jsx)("div",{children:0!=g.length?(0,n.jsx)("div",{className:i().container,children:g.map(e=>(0,n.jsx)("div",{className:i().item,children:(0,n.jsx)(h,{vehiculo:e})},e.ve_id))}):(0,n.jsx)("div",{className:i().loadingScreen,children:(0,n.jsx)("h1",{className:i().textError,children:"A\xfan no hay vehiculos"})})})]})}},8116:function(e,a,r){"use strict";r.d(a,{Z:function(){return c}});var n=r(7437);r(2265);var s=r(6065),o=r.n(s);function c(){return(0,n.jsxs)("div",{className:o().contenedor,children:[(0,n.jsx)("div",{className:o().cuadrado1}),(0,n.jsx)("div",{className:o().cuadrado2})]})}},9118:function(e){e.exports={navegacion:"page_navegacion__pvhBk",link:"page_link__XeUxK",filtro:"page_filtro__6bvQI",container:"page_container__8LqPz",item:"page_item__VGSUp",loadingScreen:"page_loadingScreen__ZgmGa",error:"page_error__ZVQW8",textIcon:"page_textIcon__llsbt",textError:"page_textError__uDpRD",errorContent:"page_errorContent__iwHjz"}},955:function(e){e.exports={container:"CardVehiculo_container__uAgr2",imagen:"CardVehiculo_imagen__VZPy8",datos:"CardVehiculo_datos__Qorjb",text:"CardVehiculo_text__HaXhW",status:"CardVehiculo_status__B_xrR",circle:"CardVehiculo_circle__ggct7",red:"CardVehiculo_red__bBMAB",orange:"CardVehiculo_orange__A6FyL",green:"CardVehiculo_green__sRmta"}},6065:function(e){e.exports={cuadrado1:"LoadingScreen_cuadrado1__7A200",cuadrado2:"LoadingScreen_cuadrado2__NNxpH",moverCuadrado1:"LoadingScreen_moverCuadrado1__8i1jV",moverCuadrado2:"LoadingScreen_moverCuadrado2__pz35P"}}},function(e){e.O(0,[9003,1316,7123,8153,6307,7648,4868,2971,2117,1744],function(){return e(e.s=6993)}),_N_E=e.O()}]);