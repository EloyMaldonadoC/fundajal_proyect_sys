(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1900],{2985:function(e,a,n){Promise.resolve().then(n.bind(n,3129))},3129:function(e,a,n){"use strict";n.r(a);var r=n(7437),o=n(2265),t=n(4406),s=n.n(t),i=n(7648),c=n(9376),d=n(8116),u=n(4868),l=n(605);a.default=function(){let{data:e,status:a}=(0,l.useSession)(),n=(0,c.useSearchParams)(),t=(0,c.useRouter)(),p=n.get("id"),[_,h]=(0,o.useState)(null),[v,f]=(0,o.useState)(""),[m,x]=(0,o.useState)(!1),[j,g]=(0,o.useState)(""),[S,b]=(0,o.useState)(0),[C,N]=(0,o.useState)(0),[P,k]=(0,o.useState)(0),[E,I]=(0,o.useState)(!1),[y,w]=(0,o.useState)(!1),[A,D]=(0,o.useState)(!1),[L,z]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{"Administrador"===e.user.role?fetch("/api/productos/".concat(p)).then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.json()}).then(e=>{g(e.produc_nombre),b(e.produc_precio_venta),N(e.produc_parti_fun),k(e.produc_parti_enlace),h(!1),console.log(e)}).catch(e=>{f(e),h(!1)}):t.push("/")},[p,t]),_)?(0,r.jsx)(d.Z,{}):v?(0,r.jsxs)("p",{children:["Error: ",v.message]}):(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:s().navegacion,children:(0,r.jsxs)("h4",{children:[(0,r.jsx)(i.default,{href:"/inventario",className:s().link,children:"Inventario"})," ","\\ Editar Producto"]})}),(0,r.jsxs)("div",{className:s().informacio,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{children:"Editar Producto"}),(0,r.jsx)(u.II,{placeholder:"Nombre del Producto",value:j,type:"text",onChange:e=>{g(e)},validation:E}),(0,r.jsx)(u.II,{placeholder:"Precio de Venta",value:S,type:"number",onChange:e=>{b(e)},validation:y}),(0,r.jsx)(u.II,{placeholder:"Participacion Fundaci\xf3n",value:C,type:"number",onChange:e=>{N(e)},validation:A}),(0,r.jsx)(u.II,{placeholder:"Participacion Enlace",value:P,type:"number",onChange:e=>{k(e)},validation:L})]}),(0,r.jsx)("div",{className:s().botones,children:(0,r.jsx)(u.zx,{text:"Guardar Cambios",type:"aceptar",onPress:()=>{if(""==j){I(!0);return}if(S<=0||""==S){w(!0);return}if(C<=0||""==C){D(!0);return}if(P<=0||""==P){k(!0);return}I(!1),w(!1),D(!1),z(!1),x(!0)}})}),(0,r.jsx)(u.u_,{show:m,title:"Atenci\xf3n Guardar Cambios",message:"\xbfDeseas guardar los cambios realizados?",handleClose:()=>{x(!1)},handleAccept:()=>{fetch("/api/productos/".concat(p),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({produc_nombre:j,produc_precio_venta:S,produc_parti_fun:C,produc_parti_enlace:P})}).then(e=>e.json()),t.push("/inventario")}})]})]})}},8116:function(e,a,n){"use strict";n.d(a,{Z:function(){return s}});var r=n(7437);n(2265);var o=n(6065),t=n.n(o);function s(){return(0,r.jsxs)("div",{className:t().contenedor,children:[(0,r.jsx)("div",{className:t().cuadrado1}),(0,r.jsx)("div",{className:t().cuadrado2})]})}},4406:function(e){e.exports={navegacion:"page_navegacion__JixCD",informacio:"page_informacio__ndm5q",link:"page_link__DhUWv",botones:"page_botones__Di9uE"}},6065:function(e){e.exports={cuadrado1:"LoadingScreen_cuadrado1__7A200",cuadrado2:"LoadingScreen_cuadrado2__NNxpH",moverCuadrado1:"LoadingScreen_moverCuadrado1__8i1jV",moverCuadrado2:"LoadingScreen_moverCuadrado2__pz35P"}}},function(e){e.O(0,[9956,1316,7123,8153,6307,7648,4868,2971,2117,1744],function(){return e(e.s=2985)}),_N_E=e.O()}]);