(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7513],{9210:function(e,o,n){Promise.resolve().then(n.bind(n,9851))},9851:function(e,o,n){"use strict";n.r(o);var a=n(7437),r=n(2265),s=n(7648),t=n(9376),c=n(7570),i=n.n(c),u=n(8116),d=n(4868),l=n(605);o.default=function(){let{data:e,status:o}=(0,l.useSession)(),n=(0,t.useRouter)(),[c,h]=(0,r.useState)(null),[_,p]=(0,r.useState)(""),[v,x]=(0,r.useState)(!1),[f,j]=(0,r.useState)([]),[k,g]=(0,r.useState)(null);(0,r.useEffect)(()=>{"Administrador"===e.user.role?fetch("/api/productos").then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.json()}).then(e=>{j(e),h(!1),console.log(e)}).catch(e=>{p(e),h(!1)}):n.push("/")},[v,n]);let N=e=>{console.log(e),fetch("/api/inventario/productos/".concat(e)).then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.json()}).then(e=>{g(e[0]),h(!1),console.log(e[0])}).catch(e=>{p(e),h(!1)})},m=e=>{""!=e&&fetch("/api/inventario/busqueda/".concat(e)).then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.json()}).then(e=>{j(e),h(!1),console.log(e)}).catch(e=>{p(e),h(!1)})};return c?(0,a.jsx)(u.Z,{}):_?(0,a.jsxs)("p",{children:["Error: ",_.message]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:i().navegacion,children:(0,a.jsxs)("h4",{children:[(0,a.jsx)(s.default,{href:"/inventario",className:i().link,children:"Inventario"})," ","\\"," "]})}),(0,a.jsxs)("div",{className:i().busqueda,children:[(0,a.jsx)(d.ol,{placeholder:"Buscar Producto",onSearch:e=>{m(e)}}),(0,a.jsx)(d.zx,{text:"Laminas",type:"cancelar",onPress:()=>{console.log("laminas"),fetch("/api/inventario/busqueda/lamina").then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.json()}).then(e=>{j(e),h(!1),console.log(e)}).catch(e=>{p(e),h(!1)})}}),(0,a.jsx)(d.zx,{text:"Todos los productos",type:"cancelar",onPress:()=>{x(!v)}}),(0,a.jsx)(d.zx,{text:"Nueva entrada",type:"cancelar",onPress:()=>{n.push("/inventario/nuevo")}})]}),(0,a.jsxs)("div",{className:i().container,children:[(0,a.jsx)("div",{className:i().tabla,children:(0,a.jsx)(d.iA,{productos:f,onClickRow:e=>{N(e)}})}),(0,a.jsx)("div",{className:i().info,children:(0,a.jsx)(d.kI,{proveedor:k})})]})]})}},8116:function(e,o,n){"use strict";n.d(o,{Z:function(){return t}});var a=n(7437);n(2265);var r=n(6065),s=n.n(r);function t(){return(0,a.jsxs)("div",{className:s().contenedor,children:[(0,a.jsx)("div",{className:s().cuadrado1}),(0,a.jsx)("div",{className:s().cuadrado2})]})}},7570:function(e){e.exports={navegacion:"page_navegacion__x6_hY",busqueda:"page_busqueda__Z9hng",container:"page_container__QXRyS",tabla:"page_tabla__YkcON",info:"page_info__LIKwi",link:"page_link___DoF4"}},6065:function(e){e.exports={cuadrado1:"LoadingScreen_cuadrado1__7A200",cuadrado2:"LoadingScreen_cuadrado2__NNxpH",moverCuadrado1:"LoadingScreen_moverCuadrado1__8i1jV",moverCuadrado2:"LoadingScreen_moverCuadrado2__pz35P"}}},function(e){e.O(0,[4355,1316,7123,8153,6307,7648,4868,2971,2117,1744],function(){return e(e.s=9210)}),_N_E=e.O()}]);