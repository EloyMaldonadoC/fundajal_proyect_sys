(()=>{var e={};e.id=1676,e.ids=[1676],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},87970:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>l,routeModule:()=>_,tree:()=>d}),s(40131),s(23658),s(10468),s(91837);var t=s(23191),r=s(88716),n=s(37922),i=s.n(n),o=s(95231),c={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);s.d(a,c);let d=["",{children:["paquetes",{children:["editar",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,40131)),"C:\\Users\\eloym\\Documents\\Fundacion Jalisco\\fj_sistema_gen\\src\\app\\paquetes\\editar\\page.jsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,23658)),"C:\\Users\\eloym\\Documents\\Fundacion Jalisco\\fj_sistema_gen\\src\\app\\layout.jsx"],loading:[()=>Promise.resolve().then(s.bind(s,10468)),"C:\\Users\\eloym\\Documents\\Fundacion Jalisco\\fj_sistema_gen\\src\\app\\loading.js"],"not-found":[()=>Promise.resolve().then(s.bind(s,91837)),"C:\\Users\\eloym\\Documents\\Fundacion Jalisco\\fj_sistema_gen\\src\\app\\not-found.jsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["C:\\Users\\eloym\\Documents\\Fundacion Jalisco\\fj_sistema_gen\\src\\app\\paquetes\\editar\\page.jsx"],p="/paquetes/editar/page",u={require:s,loadChunk:()=>Promise.resolve()},_=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/paquetes/editar/page",pathname:"/paquetes/editar",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5592:(e,a,s)=>{Promise.resolve().then(s.bind(s,95807))},95807:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>_});var t=s(10326),r=s(17577),n=s(43760),i=s.n(n),o=s(90434),c=s(35047),d=s(72557),l=s(80256),p=s(77109);function u({producto:e,addProductList:a,deleteProductList:s,changeValue:n,incialiced:o}){o.find(a=>a.produc_id==e.produc_id);let[c,l]=(0,r.useState)(1);return(0,t.jsxs)("div",{className:i().tablaContenido,children:[t.jsx("p",{className:i().celda,children:e.produc_nombre}),(0,t.jsxs)("p",{className:i().celda,children:["$",e.produc_precio_venta]}),t.jsx("div",{className:i().celda,children:t.jsx("input",{type:"number",min:1,className:i().input,value:c,onChange:a=>{l(a.target.value),n(e.produc_id,a.target.value)}})}),t.jsx("span",{className:i().checkbox,children:t.jsx(d.Jg,{value:e.produc_id,onSelect:()=>{a(e.produc_id)},onUnselect:()=>{s(e.produc_id)},inicialiced:o})})]},e.produc_id)}let _=function(){let{data:e,status:a}=(0,p.useSession)(),s=(0,c.useSearchParams)(),n=(0,c.useRouter)(),_=s.get("id"),[h,m]=(0,r.useState)(null),[x,g]=(0,r.useState)(""),[j,v]=(0,r.useState)(!1),[b,f]=(0,r.useState)(""),[P,y]=(0,r.useState)(!1),[q,N]=(0,r.useState)(""),[S,C]=(0,r.useState)(!1),[w,E]=(0,r.useState)(""),[k,U]=(0,r.useState)(!1),[D,A]=(0,r.useState)(""),[I,J]=(0,r.useState)(null),[F,G]=(0,r.useState)([]),L=(e,a)=>{console.log(e,a),G([...F,{pa_id:_,produc_id:e,produc_pa_cantidad:a}])},O=e=>{console.log(e),G(F.filter(a=>a.produc_id!==e))},T=async()=>{try{(await fetch(`/api/paquetes/productos/${_}`,{method:"DELETE"})).ok||console.log("No se borro"),await fetch("/api/paquetes/productos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)}).then(e=>{if(!e.ok)throw Error("Network response was not ok");return v(!1),n.push("/paquetes"),e.json()}),await fetch(`/api/paquetes/${_}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({pa_nombre:b,pa_descripcion:q,pa_precio:w})}).then(e=>{if(!e.ok)throw Error("Response is not ok");return e.json()})}catch(e){g(e),m(!1)}},z=(e,a)=>{console.log(e,a),G(F.map(s=>(s.produc_id===e&&(s.produc_pa_cantidad=a),s)))};return h?t.jsx(l.Z,{}):x?(0,t.jsxs)("p",{children:["Error: ",x.message]}):(0,t.jsxs)("div",{children:[t.jsx("div",{className:i().navegacion,children:(0,t.jsxs)("h4",{children:[t.jsx(o.default,{href:"/paquetes",className:i().link,children:"Paquetes"})," ","\\ Editar"]})}),(0,t.jsxs)("div",{className:i().contenedor,children:[(0,t.jsxs)("div",{className:i().formulario,children:[t.jsx("div",{children:t.jsx("h3",{children:"Informacion del paquete"})}),(0,t.jsxs)("div",{children:[t.jsx(d.II,{placeholder:"Nombre",value:b,type:"text",onChange:e=>{f(e)},validation:P}),t.jsx(d.II,{placeholder:"Descripci\xf3n",value:q,type:"text",onChange:e=>{N(e)},validation:S}),t.jsx(d.II,{placeholder:"Precio",value:w,type:"number",onChange:e=>{E(e)},validation:k})]})]}),(0,t.jsxs)("div",{className:i().herramientas,children:[t.jsx(d.ol,{placeholder:"Buscar producto",onSearch:e=>{A(e)}}),t.jsx(d.zx,{text:"Aceptar",type:"cancelar",onPress:()=>{""==b?y(!0):y(!1),""==q?C(!0):C(!1),w<=0?U(!0):U(!1),""!=b&&""!=q&&w>0&&0!=F.length&&(y(!1),C(!1),U(!1),v(!0))}})]}),(0,t.jsxs)("div",{className:i().tabla,children:[(0,t.jsxs)("div",{className:i().tablaEncabezado,children:[t.jsx("h3",{className:i().celda,children:"Nombre"}),t.jsx("h3",{className:i().celda,children:"Precio"}),t.jsx("h3",{className:i().checkbox,children:"Elegir"})]}),I&&t.jsx(t.Fragment,{children:I.map((e,a)=>t.jsx("div",{children:e.produc_nombre.toLowerCase().includes(D.toLowerCase())&&t.jsx(u,{producto:e,addProductList:(e,a)=>L(e,a),deleteProductList:e=>O(e),changeValue:z,incialiced:F})},a))}),t.jsx("div",{className:i().tablaPiedePagina})]})]}),t.jsx(d.u_,{title:"Editar el Paquete",message:"\xbfQuieres editar el contenido del paquete?",show:j,handleClose:()=>{v(!1)},handleAccept:()=>{T()}})]})}},43760:e=>{e.exports={navegacion:"page_navegacion__AEigs",link:"page_link__vI04p",contenedor:"page_contenedor__yUK89",formulario:"page_formulario__9Hqgt",herramientas:"page_herramientas__lv2LU",tabla:"page_tabla__CZMfj",tablaEncabezado:"page_tablaEncabezado___3SKO",input:"page_input__WzrOb",celda:"page_celda__VemDI",checkbox:"page_checkbox__ADVKs",tablaContenido:"page_tablaContenido__5AUsU",tablaPiedePagina:"page_tablaPiedePagina__4yHNq"}},40131:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});let t=(0,s(68570).createProxy)(String.raw`C:\Users\eloym\Documents\Fundacion Jalisco\fj_sistema_gen\src\app\paquetes\editar\page.jsx#default`)}};var a=require("../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[8948,1404,434,4424],()=>s(87970));module.exports=t})();