(()=>{var e={};e.id=6172,e.ids=[6172],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},10194:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>r.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>l,routeModule:()=>_,tree:()=>c}),s(22332),s(23658),s(10468),s(91837);var t=s(23191),o=s(88716),n=s(37922),r=s.n(n),i=s(95231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(a,d);let c=["",{children:["paquetes",{children:["nuevo",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,22332)),"C:\\Users\\eloym\\Documents\\Fundacion Jalisco\\fj_sistema_gen\\src\\app\\paquetes\\nuevo\\page.jsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,23658)),"C:\\Users\\eloym\\Documents\\Fundacion Jalisco\\fj_sistema_gen\\src\\app\\layout.jsx"],loading:[()=>Promise.resolve().then(s.bind(s,10468)),"C:\\Users\\eloym\\Documents\\Fundacion Jalisco\\fj_sistema_gen\\src\\app\\loading.js"],"not-found":[()=>Promise.resolve().then(s.bind(s,91837)),"C:\\Users\\eloym\\Documents\\Fundacion Jalisco\\fj_sistema_gen\\src\\app\\not-found.jsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["C:\\Users\\eloym\\Documents\\Fundacion Jalisco\\fj_sistema_gen\\src\\app\\paquetes\\nuevo\\page.jsx"],u="/paquetes/nuevo/page",p={require:s,loadChunk:()=>Promise.resolve()},_=new t.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/paquetes/nuevo/page",pathname:"/paquetes/nuevo",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5723:(e,a,s)=>{Promise.resolve().then(s.bind(s,63493))},63493:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>m});var t=s(10326),o=s(17577),n=s(18731),r=s.n(n),i=s(90434),d=s(35047),c=s(72557),l=s(80256),u=s(77109),p=s(28428);function _({producto:e,addProductList:a,deleteProductList:s,changeValue:n,incialiced:i}){let[d,l]=(0,o.useState)(1);return(0,t.jsxs)("div",{className:r().tablaContenido,children:[t.jsx("p",{className:r().celda,children:e.produc_nombre}),(0,t.jsxs)("p",{className:r().celda,children:["$",e.produc_precio_venta]}),t.jsx("div",{className:r().celda,children:t.jsx("input",{type:"number",min:1,className:r().input,value:d,onChange:a=>{l(a.target.value),n(e.produc_id,a.target.value)}})}),t.jsx("span",{className:r().checkbox,children:t.jsx(c.Jg,{value:e.produc_id,onSelect:()=>{a(e.produc_id,d)},onUnselect:()=>{s(e.produc_id)},inicialiced:i})})]},e.produc_id)}let m=function(){let{data:e,status:a}=(0,u.useSession)(),s=(0,d.useRouter)(),[n,m]=(0,o.useState)(null),[h,x]=(0,o.useState)(""),[g,j]=(0,o.useState)(!1),[v,b]=(0,o.useState)(!1),[f,N]=(0,o.useState)(null),[P,q]=(0,o.useState)(""),[y,C]=(0,o.useState)(!1),[S,w]=(0,o.useState)(""),[D,k]=(0,o.useState)(!1),[L,E]=(0,o.useState)(""),[I,J]=(0,o.useState)(!1),[F,U]=(0,o.useState)(""),[z,A]=(0,o.useState)(!1),[G,O]=(0,o.useState)(""),[T,M]=(0,o.useState)(null),[Q,R]=(0,o.useState)([]),Z=(e,a)=>{console.log(e),R([...Q,{pa_id:f,produc_id:e,produc_pa_cantidad:a}])},$=e=>{console.log(e),R(Q.filter(a=>a.produc_id!==e))},B=(e,a)=>{console.log(e,a),R(Q.map(s=>(s.produc_id===e&&(s.produc_pa_cantidad=a),s)))},W=async()=>{try{if(!(await fetch("/api/paquetes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pa_id:f,pa_nombre:P,pa_descripcion:S,pa_precio:L,pa_comision:F})})).ok)throw Error("Network response was not ok");await fetch("/api/paquetes/productos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Q)}).then(e=>{if(!e.ok)throw Error("Network response was not ok");return b(!1),s.push("/paquetes"),e.json()})}catch(e){x(e),m(!1)}};return n?t.jsx(l.Z,{}):h?(0,t.jsxs)("p",{children:["Error: ",h.message]}):(0,t.jsxs)("div",{children:[t.jsx("div",{className:r().navegacion,children:(0,t.jsxs)("h4",{children:[t.jsx(i.default,{href:"/paquetes",className:r().link,children:"Paquetes"})," ","\\ Nuevo"]})}),(0,t.jsxs)("div",{className:r().contenedor,children:[(0,t.jsxs)("div",{className:r().formulario,children:[t.jsx("div",{children:t.jsx("h3",{children:"Informaci\xf3n del paquete"})}),(0,t.jsxs)("div",{children:[t.jsx(c.II,{placeholder:"Nombre",value:P,type:"text",onChange:e=>{q(e)},validation:y}),t.jsx(c.II,{placeholder:"Descripci\xf3n",value:S,type:"text",onChange:e=>{w(e)},validation:D}),t.jsx(c.II,{placeholder:"Precio",value:L,type:"number",onChange:e=>{E(e)},validation:I}),t.jsx(c.II,{placeholder:"Comisi\xf3n",value:F,type:"number",onChange:e=>{U(e)},validation:z})]})]}),(0,t.jsxs)("div",{className:r().herramientas,children:[t.jsx(c.ol,{placeholder:"Buscar producto",onSearch:e=>{O(e)}}),t.jsx(c.zx,{text:"Aceptar",type:"cancelar",onPress:()=>{""==P?C(!0):C(!1),""==S?k(!0):k(!1),L<=0?J(!0):J(!1),F<=0?A(!0):A(!1),""!=P&&""!=S&&L>0&&0!=Q.length&&F>0&&(C(!1),k(!1),J(!1),b(!0))}})]}),(0,t.jsxs)("div",{className:r().tabla,children:[(0,t.jsxs)("div",{className:r().tablaEncabezado,children:[t.jsx("h3",{className:r().celda,children:"Nombre"}),t.jsx("h3",{className:r().celda,children:"Precio"}),t.jsx("h3",{className:r().celda,children:"Cantidad"}),t.jsx("h3",{className:r().checkbox,children:"Elegir"})]}),T&&t.jsx(t.Fragment,{children:T.map((e,a)=>t.jsx("div",{children:e.produc_nombre.toLowerCase().includes(G.toLowerCase())&&t.jsx(_,{producto:e,addProductList:(e,a)=>Z(e,a),deleteProductList:e=>$(e),incialiced:Q,changeValue:(e,a)=>B(e,a)})},a))}),t.jsx("div",{className:r().tablaPiedePagina})]})]}),t.jsx(c.u_,{show:v,title:"Agregar nuevo paquete",message:"\xbfDeseas agregar el nuevo paquete y todos sus productos seleccionados?",handleAccept:()=>{W(),j(!0)},handleClose:()=>{b(!1)}}),t.jsx(p.Z,{show:g})]})}},28428:(e,a,s)=>{"use strict";s.d(a,{Z:()=>r});var t=s(10326),o=s(73730),n=s.n(o);let r=function({show:e}){return t.jsx("div",{className:`${n().modal} ${e?n().show:""}`,children:(0,t.jsxs)("div",{className:n().contenedor,children:[t.jsx("div",{className:n().cuadrado1}),t.jsx("div",{className:n().cuadrado2})]})})}},18731:e=>{e.exports={navegacion:"page_navegacion__c3O8D",link:"page_link__07sLq",herramientas:"page_herramientas__qqqBb",contenedor:"page_contenedor__J8Yz7",formulario:"page_formulario__l2ccS",tabla:"page_tabla__jxmID",tablaEncabezado:"page_tablaEncabezado__1z8xo",input:"page_input__QcF9Y",celda:"page_celda__TFDzn",checkbox:"page_checkbox__UfNu4",tablaContenido:"page_tablaContenido__NHnNi",tablaPiedePagina:"page_tablaPiedePagina__8nWsw"}},73730:e=>{e.exports={cuadrado1:"LoadingData_cuadrado1__x1QGj",cuadrado2:"LoadingData_cuadrado2__hOwqp",moverCuadrado1:"LoadingData_moverCuadrado1__vWwXS",moverCuadrado2:"LoadingData_moverCuadrado2__gm3Qs",modal:"LoadingData_modal__Rqj2p",show:"LoadingData_show__jLq8l"}},22332:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});let t=(0,s(68570).createProxy)(String.raw`C:\Users\eloym\Documents\Fundacion Jalisco\fj_sistema_gen\src\app\paquetes\nuevo\page.jsx#default`)}};var a=require("../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[8948,1404,434,4424],()=>s(10194));module.exports=t})();