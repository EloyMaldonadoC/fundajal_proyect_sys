(()=>{var e={};e.id=2106,e.ids=[2106],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},98996:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>r.a,__next_app__:()=>_,originalPathname:()=>u,pages:()=>l,routeModule:()=>p,tree:()=>c}),t(41434),t(23658),t(10468),t(91837);var o=t(23191),n=t(88716),s=t(37922),r=t.n(s),d=t(95231),i={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);t.d(a,i);let c=["",{children:["entregas",{children:["recibido",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,41434)),"C:\\Users\\eloym\\Documents\\Fundacion Jalisco\\fj_sistema_gen\\src\\app\\entregas\\recibido\\page.jsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,23658)),"C:\\Users\\eloym\\Documents\\Fundacion Jalisco\\fj_sistema_gen\\src\\app\\layout.jsx"],loading:[()=>Promise.resolve().then(t.bind(t,10468)),"C:\\Users\\eloym\\Documents\\Fundacion Jalisco\\fj_sistema_gen\\src\\app\\loading.js"],"not-found":[()=>Promise.resolve().then(t.bind(t,91837)),"C:\\Users\\eloym\\Documents\\Fundacion Jalisco\\fj_sistema_gen\\src\\app\\not-found.jsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["C:\\Users\\eloym\\Documents\\Fundacion Jalisco\\fj_sistema_gen\\src\\app\\entregas\\recibido\\page.jsx"],u="/entregas/recibido/page",_={require:t,loadChunk:()=>Promise.resolve()},p=new o.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/entregas/recibido/page",pathname:"/entregas/recibido",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},21912:(e,a,t)=>{Promise.resolve().then(t.bind(t,40255))},40255:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>O});var o=t(10326),n=t(32270),s=t.n(n),r=t(17577),d=t(35047),i=t(80256),c=t(35298),l=t.n(c),u=t(90434),_=t(72557),p=t(84638),m=t(65764),h=t(91575),g=t(86015),x=t(65284),v=t(71367),j=t(30020),b=t(14631),f=t.n(b);let N=function({productos:e,paquetes:a,edicion:t,deshacer:n}){return(0,o.jsxs)("div",{children:[o.jsx("div",{className:f().header,children:o.jsx("h3",{children:"Devoluciones"})}),(0,o.jsxs)("div",{className:f().titulo,children:[o.jsx("h4",{className:f().nombre,children:"Nombre"}),o.jsx("h4",{className:f().cantidad,children:"cantidad"})]}),a&&o.jsx(o.Fragment,{children:0!=a.length&&o.jsx(o.Fragment,{children:a.map((e,a)=>"devuelto"==e.en_pa_estado&&(0,o.jsxs)("div",{className:f().container,children:[o.jsx("div",{className:f().nombre,children:e.pa_nombre}),o.jsx("div",{className:f().cantidad,children:e.en_pa_cantidad}),o.jsx("div",{className:f().deshacer,children:t&&o.jsx(_.zx,{text:"deshacer",type:"cancelar",onPress:()=>{n(e)}})})]},a))})}),e&&o.jsx(o.Fragment,{children:0!=e.length&&o.jsx(o.Fragment,{children:e.map((e,a)=>"devuelto"==e.en_produc_estado&&(0,o.jsxs)("div",{className:f().container,children:[o.jsx("div",{className:f().nombre,children:e.produc_nombre}),o.jsx("div",{className:f().cantidad,children:e.en_produc_cantidad}),o.jsx("div",{className:f().deshacer,children:t&&o.jsx(_.zx,{text:"deshacer",type:"cancelar",onPress:()=>{n(e)}})})]},a))})}),o.jsx("div",{className:f().fooder})]})};var S=t(81608),y=t(18560),P=t.n(y);function C({max:e,precio:a,vender:t}){let[n,s]=(0,r.useState)(!1),[d,i]=(0,r.useState)(0),[c,l]=(0,r.useState)(!1),u=()=>{t(d),i(0),s(!1)};return(0,o.jsxs)("div",{children:[n?(0,o.jsxs)("div",{children:[o.jsx("input",{className:P().input,type:"number",min:0,max:e,value:d,onChange:e=>{i(e.target.value)}}),(0,o.jsxs)("label",{children:["Total: ",(0,S.uf)(a*d)]}),o.jsx(_.zx,{text:"Aceptar",type:"aceptar",onPress:()=>{l(!0)},disabled:0==d}),o.jsx(_.zx,{text:"Cancelar",type:"cancelar",onPress:()=>{s(!1)}})]}):o.jsx(_.zx,{text:"Vender",onPress:()=>{s(!0)}}),o.jsx(_.u_,{title:"Vender Producto",message:"Al aceptar la acci\xf3n no se podra deshacer, \xbfvender producto?",show:c,handleClose:()=>l(!1),handleAccept:()=>{l(!1),u()}})]})}let D=function({listaDevueltos:e,vendidos:a}){return e&&0!=e.length?e?(0,o.jsxs)("div",{children:[o.jsx("div",{className:P().header,children:o.jsx("h3",{children:"Vender Productos Individuales"})}),(0,o.jsxs)("div",{className:P().titulo,children:[o.jsx("h4",{className:P().nombre,children:"Nombre"}),o.jsx("h4",{className:P().disponible,children:"Disponibles"}),o.jsx("h4",{className:P().precio,children:"Precio"}),o.jsx("h4",{className:P().vender,children:"Vender"})]}),e.map((e,t)=>(0,o.jsxs)("div",{className:P().container,children:[o.jsx("p",{className:P().nombre,children:e.produc_nombre}),o.jsx("p",{className:P().disponible,children:e.en_es_produc_cant}),o.jsx("p",{className:P().precio,children:(0,S.uf)(e.produc_precio_venta)}),o.jsx("div",{className:P().vender,children:o.jsx(C,{max:e.en_es_produc_cant,precio:e.produc_precio_venta,vender:t=>a(e.produc_id,t)})})]},t)),o.jsx("div",{className:P().fooder})]}):void 0:o.jsx("div",{children:"Aun no hay productos disponibles para venta individual"})};var w=t(15169),E=t(77109),T=t(28428);let z=e=>{if(null==e)return"A\xfan no se ha programado una fecha de entrega";{let a=new Date(e),t=["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"][a.getUTCDay()],o=a.getUTCDate(),n=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][a.getUTCMonth()],s=a.getUTCFullYear();return`${t} ${o} de ${n} del ${s}`}},k=e=>{if(null==e)return"Hora no especificada";{let[a,t]=e.split(":");return`${a}:${t}`}},F=e=>e.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}),O=function(){let e=(0,d.useRouter)(),a=(0,d.useSearchParams)().get("id"),{data:t,status:n}=(0,E.useSession)(),[c,b]=(0,r.useState)(!0),[f,y]=(0,r.useState)(""),[P,C]=(0,r.useState)(!1),[O,q]=(0,r.useState)(!0),[V,I]=(0,r.useState)(!0),[A,J]=(0,r.useState)(!0),[U,R]=(0,r.useState)(!1),[Z,$]=(0,r.useState)(!1),[G,L]=(0,r.useState)(!1),[M,B]=(0,r.useState)(!1),[Q,H]=(0,r.useState)(!0),[W,X]=(0,r.useState)(!0),[Y,K]=(0,r.useState)(!1),[ee,ea]=(0,r.useState)(!1),[et,eo]=(0,r.useState)([]),[en,es]=(0,r.useState)([]),[er,ed]=(0,r.useState)([]),[ei,ec]=(0,r.useState)([]),[el,eu]=(0,r.useState)([]),[e_,ep]=(0,r.useState)([]),[em,eh]=(0,r.useState)([]),[eg,ex]=(0,r.useState)([]),[ev,ej]=(0,r.useState)([]),[eb,ef]=(0,r.useState)([]),[eN,eS]=(0,r.useState)([]),[ey,eP]=(0,r.useState)([]),[eC,eD]=(0,r.useState)([]),[ew,eE]=(0,r.useState)([]),[eT,ez]=(0,r.useState)(!1),[ek,eF]=(0,r.useState)(!1),[eO,eq]=(0,r.useState)(0),[eV,eI]=(0,r.useState)(0),[eA,eJ]=(0,r.useState)(0),[eU,eR]=(0,r.useState)(0),[eZ,e$]=(0,r.useState)(null),[eG,eL]=(0,r.useState)(0),[eM,eB]=(0,r.useState)(0),[eQ,eH]=(0,r.useState)(""),[eW,eX]=(0,r.useState)(""),[eY,eK]=(0,r.useState)(""),[e0,e1]=(0,r.useState)([]),[e4,e2]=(0,r.useState)(!1),[e3,e8]=(0,r.useState)(!1),[e6,e5]=(0,r.useState)(!1),[e7,e9]=(0,r.useState)(!1),[ae,aa]=(0,r.useState)(!1),[at,ao]=(0,r.useState)([]),[an,as]=(0,r.useState)([]),[ar,ad]=(0,r.useState)(!1),[ai,ac]=(0,r.useState)("producto"),[al,au]=(0,r.useState)(null),[a_,ap]=(0,r.useState)(null),[am,ah]=(0,r.useState)(0),[ag,ax]=(0,r.useState)(0),av=e=>{let a=eb.find(a=>a.produc_id==e);ef(eb.filter(a=>a.produc_id!=e)),ej(ev.map(t=>t.produc_id==e?{...t,en_es_produc_cant:Number(t.en_es_produc_cant)+Number(a.en_es_produc_cant)}:t)),R(!0)},aj=e=>{let a=eN.find(a=>a.produc_id==e);eS(eN.filter(a=>a.produc_id!=e)),ej(ev.map(t=>t.produc_id==e?{...t,en_es_produc_cant:Number(t.en_es_produc_cant)+Number(a.en_es_produc_cant)}:t)),R(!0)},ab=e=>{let a=ey.find(a=>a.produc_id==e);eP(ey.filter(a=>a.produc_id!=e)),ej(ev.map(t=>t.produc_id==e?{...t,en_es_produc_cant:Number(t.en_es_produc_cant)+Number(a.en_es_produc_cant)}:t)),R(!0)},af=()=>{let e=eO-eG-e0.reduce((e,a)=>e+a.pag_monto,0);return e<=0&&(ez(!0),console.log("deuda saldada")),e},aN=async()=>{aD();try{if($(!0),!(await fetch(`/api/entregas/deudas/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({deu_estado:Number(eU)-Number(eM)<=0?"saldada":"pendiente",deu_deuda_pendiente:Number(eU)-Number(eM)<=0?0:Number(eU)-Number(eM),deu_comision_funjal:eV,deu_comision_enlace:eA})})).ok)throw Error("Response is not ok");(await fetch("/api/entregas/deudas/pagos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({deu_id:eZ,pag_monto:eM,pag_metodo:eW,pag_desc:eY,pag_fecha_transac:eQ})})).ok&&(e2(!e4),eF(!1),eB(0),eH(""),eX(""),eK("")),$(!1),e8(!1)}catch(e){y(e)}},aS=()=>{console.log("monto",eM),console.log("fecha",eQ),console.log("metodo",eW),console.log("descripcion",eY),eM>0&&""!=eQ&&""!=eW&&""!=eY?e8(!0):e5(!0)},ay=async()=>{if(O){try{if(await fetch(`/api/entregas/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({en_estado:"finalizada"})}).then(e=>{if(!e.ok)throw Error("Response is not ok");return e.json()}),0!=eC.length){await fetch("/api/entregas/productos/addInventary",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(eC)}).then(e=>{if(!e.ok)throw Error("Response put products is not ok");return e.json()});let e=eC.map(e=>{let a=new Date;return{produc_id:e.produc_id,hist_estado:"entrada",hist_cantidad:e.en_es_produc_cant,hist_precio_ent_sal:e.produc_precio_venta,hist_hora:(0,S.P4)(),hist_dia:a.toISOString().split("T")[0],hist_motivo:"devolucion"}});await fetch("/api/inventario/historial/lista",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>{if(!e.ok)throw Error("Response post historia is not ok");return e.json()})}if(0!=ew.length){let e=ew.map(e=>{let a=new Date;return{produc_id:e.produc_id,hist_estado:"entrada",hist_cantidad:e.en_es_produc_cant,hist_precio_ent_sal:e.produc_precio_venta,hist_hora:(0,S.P4)(),hist_dia:a.toISOString().split("T")[0],hist_motivo:"devolucion"}});await fetch("/api/inventario/historial/lista",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>{if(!e.ok)throw Error("Response post historia is not ok");return e.json()});let a=ew.map(e=>{let a=new Date;return{produc_id:e.produc_id,hist_estado:"salida",hist_cantidad:e.en_es_produc_cant,hist_precio_ent_sal:e.produc_precio_venta,hist_hora:(0,S.P4)(),hist_dia:a.toISOString().split("T")[0],hist_motivo:"venta individual"}});await fetch("/api/inventario/historial/lista",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(e=>{if(!e.ok)throw Error("Response post historia is not ok");return e.json()})}}catch(e){y(e)}e.push("/entregas")}},aP=e=>{if(0==e)ah(0),au(null),ax(0);else{ax(0);let a=e_.find(a=>a.produc_id==e);ah(a.en_produc_cantidad),au(a),console.log(a)}},aC=e=>{if(0==e)ah(0),ap(null),ax(0);else{ax(0);let a=em.find(a=>a.pa_id==e);ah(a.en_pa_cantidad),ap(a),console.log(a)}},aD=async()=>{if(!O)try{$(!0);let e=[...ev,...eN,...eb,...ey,...eC,...ew],t=[...e_,...at],o=[...em,...an];if(U){if(!(await fetch(`/api/entregas/productos/status/${a}`,{method:"DELETE"})).ok)throw Error("Response detele states is not ok");if(!(await fetch("/api/entregas/productos/status",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("Response post states is not ok")}if(!V){let e=await fetch(`/api/entregas/productos/${a}`,{method:"DELETE"});if(!e.ok)throw Error("Response delete products is not ok");if((200==e.status||204==e.status)&&!(await fetch("/api/entregas/productos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)throw Error("Response post products is not ok")}if(!A){if(!(await fetch(`/api/entregas/paquetes/${a}`,{method:"DELETE"})).ok)throw Error("Response delete paquetes is not ok");if(!(await fetch("/api/entregas/paquetes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).ok)throw Error("Response post paquetes is not ok")}V&&A||await fetch(`/api/entregas/deudas/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({deu_deuda:eO,deu_deuda_pendiente:af(),deu_comision_funjal:eV,deu_comision_enlace:eA})}).then(e=>{if(!e.ok)throw Error("Response put deuda is not ok")}).catch(e=>{y(e)}),q(!0),$(!1)}catch(e){y(e)}},aw=async()=>{if(0!=am&&(al||a_)&&0!=ag){if(al){if(0==at.filter(e=>e.produc_id==al.produc_id).length){if(am==Number(ag)){let e=e_.filter(e=>e.produc_id!=al.produc_id);ao([...at,{en_id:al.en_id,produc_id:Number(al.produc_id),produc_nombre:al.produc_nombre,produc_precio_venta:Number(al.produc_precio_venta),en_produc_cantidad:Number(ag),en_produc_estado:"devuelto",en_produc_oferta:0}]),ep(e)}else console.log("No es igual"),ep(e_.map(e=>e.produc_id==al.produc_id?{...e,en_produc_cantidad:Number(e.en_produc_cantidad)-ag}:e)),ao([...at,{...al,en_produc_cantidad:Number(ag),en_produc_estado:"devuelto"}])}else ao(at.map(e=>e.produc_id==al.produc_id?{...e,en_produc_cantidad:Number(e.en_produc_cantidad)+Number(ag)}:e)),am==Number(ag)?ep(e_.filter(e=>e.produc_id!=al.produc_id)):ep(e_.map(e=>e.produc_id==al.produc_id?{...e,en_produc_cantidad:Number(e.en_produc_cantidad)-Number(ag)}:e));let e=ev.find(e=>e.produc_id==al.produc_id),a=eC.find(e=>e.produc_id==al.produc_id);console.log("lista de productos",e),console.log("lista",a),ej(ev.map(e=>e.produc_id==al.produc_id?{...e,en_es_produc_cant:Number(e.en_es_produc_cant)-Number(ag)}:e)),a?eD(eC.map(e=>e.produc_id==a.produc_id?{...e,en_es_produc_cant:Number(e.en_es_produc_cant)+Number(ag)}:e)):eD([...eC,{...e,en_es_produc_cant:Number(ag),en_es_produc_estado:"devuelto"}]),I(!1)}if(a_){let e=an.filter(e=>e.pa_id==a_.pa_id);console.log(e),0==e.length?(console.log("no existe"),am==Number(ag)?(eh(em.filter(e=>e.pa_id!=a_.pa_id)),as([...an,{pa_id:a_.pa_id,en_id:a_.en_id,en_pa_cantidad:ag,en_pa_estado:"devuelto",en_pa_desc:0,pa_nombre:a_.pa_nombre,pa_precio:a_.pa_precio}]),console.log(eg.filter(e=>e.pa_id==a_.pa_id))):(console.log("No es igual"),eh(em.map(e=>e.pa_id==a_.pa_id?{...e,en_pa_cantidad:Number(e.en_pa_cantidad)-ag}:e)),as([...an,{...a_,en_pa_cantidad:Number(ag),en_pa_estado:"devuelto"}]))):(as(an.map(e=>e.pa_id==a_.pa_id?{...e,en_pa_cantidad:Number(e.en_pa_cantidad)+Number(ag)}:e)),am==Number(ag)?eh(em.filter(e=>e.pa_id!=a_.pa_id)):eh(em.map(e=>e.pa_id==a_.pa_id?{...e,en_pa_cantidad:Number(e.en_pa_cantidad)-Number(ag)}:e)));let a=eg.filter(e=>e.pa_id==a_.pa_id),t=[...eC];for(let e=0;e<a.length;e++){let o=a[e],n=eC.find(e=>e.produc_id==o.produc_id);if(console.log("producto",o,e),console.log("existe",n),n){console.log("existe este producto en la lista");for(let e=0;e<t.length;e++){let a=t[e];console.log("producto listado",a),o.produc_id==a.produc_id&&(t[e]={...a,en_es_produc_cant:Number(a.en_es_produc_cant)+Number(o.produc_pa_cantidad)*Number(ag)})}}else console.log("no existe este producto en la lista"),t.push({produc_id:Number(o.produc_id),en_id:Number(o.en_id),produc_nombre:o.produc_nombre,produc_precio_venta:Number(o.produc_precio_venta),en_es_produc_cant:Number(o.produc_pa_cantidad)*Number(ag),en_es_produc_estado:"devuelto"}),console.log("Se a\xf1adido",o.produc_nombre);eD(t),ej(ev.map(e=>a.find(a=>a.produc_id==e.produc_id)?{...e,en_es_produc_cant:Number(e.en_es_produc_cant)-Number(o.produc_pa_cantidad)*Number(ag)}:e))}J(!1)}}R(!0),q(!1),ac("producto"),ad(!1),au(null),ap(null),ax(0),ah(0)},aE=e=>{if(e.produc_id){console.log("es un producto");let a=e_.find(a=>a.produc_id==e.produc_id),t=at.find(a=>a.produc_id==e.produc_id),o=eC.find(a=>a.produc_id==e.produc_id);console.log("existe producto",a),console.log("producto devuelto",t),console.log("producto de la lista devueltos",o),a?(ep(e_.map(a=>a.produc_id==e.produc_id?{...a,en_produc_cantidad:a.en_produc_cantidad+e.en_produc_cantidad}:a)),ao(at.filter(a=>a.produc_id!=e.produc_id))):(ep([...e_,{...e,en_produc_estado:"en entrega"}]),ao(at.filter(a=>a.produc_id!=e.produc_id))),ej(ev.map(a=>a.produc_id==e.produc_id?{...a,en_es_produc_cant:Number(a.en_es_produc_cant)+Number(t.en_produc_cantidad)}:a)),t.en_produc_cantidad==o.en_es_produc_cant?eD(ev.filter(a=>a.produc_id!=e.produc_id)):eD(eC.map(a=>a.produc_id==e.produc_id?{...a,en_es_produc_cant:Number(a.en_es_produc_cant)-Number(t.en_produc_cantidad)}:a))}else{console.log("es un paquete");let a=em.find(a=>a.pa_id==e.pa_id),t=eg.filter(a=>a.pa_id==e.pa_id);a?(eh(em.map(a=>a.pa_id==e.pa_id?{...a,en_pa_cantidad:a.en_pa_cantidad+e.en_pa_cantidad}:a)),as(an.filter(a=>a.pa_id!=e.pa_id))):(eh([...em,{...e,en_pa_estado:"en entrega"}]),as(an.filter(a=>a.pa_id!=e.pa_id)));let o=an.find(a=>a.pa_id==e.pa_id),n=[...eC];for(let e=0;e<t.length;e++){let a=t[e],s=eC.find(e=>e.produc_id==a.produc_id);console.log("producto listado",a,e),console.log("producto devuelto",s,e),o.en_pa_cantidad*a.produc_pa_cantidad==s.en_es_produc_cant?(console.log("es igual"),n=n.filter(e=>e.produc_id!=a.produc_id)):(console.log("no es igual"),n=n.map(e=>e.produc_id==a.produc_id?{...e,en_es_produc_cant:Number(e.en_es_produc_cant)-Number(o.en_pa_cantidad*a.produc_pa_cantidad)}:e));for(let e=0;e<ev.length;e++){let t=ev[e];t.produc_id==a.produc_id&&(t.en_es_produc_cant=Number(t.en_es_produc_cant)+Number(o.en_pa_cantidad*a.produc_pa_cantidad),console.log("resgesado a la lista de productos ",a.produc_nombre))}}eD(n)}q(!1),R(!0)},aT=(e,a)=>{console.log("cantidad",a),console.log("producto",e);let t=eC.find(a=>a.produc_id==e);ew.find(a=>a.produc_id==e)?(a==t.en_es_produc_cant?eD(eC.filter(a=>a.produc_id!=e)):eD(eC.map(t=>t.produc_id==e?{...t,en_es_produc_cant:Number(t.en_es_produc_cant)-a}:t)),eE(ew.map(t=>t.produc_id==e?{...t,en_es_produc_cant:Number(t.en_es_produc_cant)+a}:t))):(a==t.en_es_produc_cant?eD(eC.filter(a=>a.produc_id!=e)):eD(eC.map(t=>t.produc_id==e?{...t,en_es_produc_cant:Number(t.en_es_produc_cant)-a}:t)),eE([...ew,{...t,en_es_produc_cant:a,en_es_produc_estado:"vendido individual"}])),q(!1),R(!0)};return c?o.jsx("div",{className:s().loadingScreen,children:o.jsx(i.Z,{})}):f?o.jsx("div",{className:s().error,children:(0,o.jsxs)("div",{className:s().errorContent,children:[o.jsx(l(),{className:s().textIcon,name:"cloud-offline-outline"}),o.jsx("p",{className:s().textError,children:f.message})]})}):(0,o.jsxs)("div",{children:[o.jsx("div",{className:s().navegacion,children:(0,o.jsxs)("h4",{children:[o.jsx(u.default,{href:"/entregas",className:s().link,children:"Entregas"})," ","\\ Recibido \\"," ",0!=et.length?`${en.cli_municipio}, ${en.cli_estado}.`:"Cargando..."]})}),(0,o.jsxs)("div",{className:s().herramientas,children:[0!=et.length&&(0,o.jsxs)("p",{children:["Entrega realizada el d\xeda"," ",o.jsx("b",{children:z(et.en_dia_entrega)})," a las"," ",(0,o.jsxs)("b",{children:[k(et.en_hora_entrega)," hrs"]})]}),(0,o.jsxs)("div",{children:[o.jsx(_.zx,{text:"Finalizar Entrega",type:"",onPress:()=>C(!0)}),o.jsx(_.zx,{text:O?"Guardado":"Guardar",type:"cancelar",onPress:()=>aD()})]})]}),(0,o.jsxs)("div",{className:s().contenido,children:[(0,o.jsxs)("div",{className:s().subContenedor1,children:[(0,o.jsxs)("div",{className:s().herramientasContenido,children:[(0,o.jsxs)("div",{className:s().menuContenidoEntrega,children:[o.jsx(_.zx,{text:"Contenido de la entrega",type:Q?"":"cancelar",onPress:()=>{B(!1),H(!0),ad(!1),ea(!1)}}),Q&&o.jsx(_.zx,{text:"Devolver Productos",type:ar?"":"cancelar",onPress:()=>{ad(!ar)}})]}),(0!=eC.length||0!=ew.length)&&o.jsx(_.zx,{text:"venta individual",type:ee?"":"cancelar",onPress:()=>{ea(!0),H(!1),B(!1)}}),o.jsx(_.zx,{text:"Total de Productos",type:M?"":"cancelar",onPress:()=>{B(!0),H(!1),ad(!1),ea(!1)}})]}),ee&&(0,o.jsxs)("div",{className:s().scrollable,children:[0!=eC.length&&o.jsx(D,{listaDevueltos:eC,vendidos:(e,a)=>aT(e,a)}),0!=ew.length&&o.jsx(w.Z,{listaVentasIndividuales:ew})]}),Q&&(0,o.jsxs)("div",{className:s().scrollable,children:[ar&&o.jsx("div",{className:s().menuDevolucion,children:(0,o.jsxs)("div",{children:[o.jsx("label",{children:"Seleccionar a devolver: "}),(0,o.jsxs)("select",{onChange:e=>{ac(e.target.value),au(null),ap(null),ax(0),ah(0)},className:`${s().selecDevolver} ${s().selecIzq}`,children:[o.jsx("option",{value:"producto",children:"producto"}),o.jsx("option",{value:"paquete",children:"paquete"})]}),"producto"==ai&&(0,o.jsxs)("select",{onChange:e=>aP(e.target.value),className:s().selecDevolver,children:[o.jsx("option",{value:0,children:"--seleccionar--"}),0!=e_.length&&o.jsx(o.Fragment,{children:e_.map((e,a)=>o.jsx("option",{value:e.produc_id,children:e.produc_nombre},a))})]}),"paquete"==ai&&(0,o.jsxs)("select",{onChange:e=>aC(e.target.value),className:s().selecDevolver,children:[o.jsx("option",{value:0,children:"--seleccionar--"}),0!=em.length&&o.jsx(o.Fragment,{children:em.map((e,a)=>o.jsx("option",{value:e.pa_id,children:e.pa_nombre},a))})]}),o.jsx("input",{type:"number",min:0,max:am,value:ag,onChange:e=>{ax(e.target.value)},className:s().inputDevolver}),o.jsx(_.zx,{text:"Aceptar",type:"cancelar",onPress:()=>{aa(!0)},disabled:0==ag})]})}),o.jsx(x.Z,{paquetes:em,productos:e_,totalAPagar:e=>{}}),0!=(0!=at.length||an.length)&&o.jsx(N,{paquetes:an,productos:at,edicion:!1,deshacer:e=>aE(e)})]}),M&&(0,o.jsxs)("div",{className:s().scrollable,children:[o.jsx(p.Z,{productos:ev}),0!=eC.length&&o.jsx(j.Z,{titulo:"Productos Devueltos",listaProductos:eC}),0!=eN.length&&o.jsx(j.Z,{titulo:"Productos da\xf1ados",listaProductos:eN,alterButton:"repuesto",onDelete:e=>{aj(e),q(!1)}}),0!=eb.length&&o.jsx(j.Z,{titulo:"Productos extraviados",listaProductos:eb,alterButton:"repuesto",onDelete:e=>{av(e),q(!1)}}),0!=ey.length&&o.jsx(j.Z,{titulo:"Productos no encontrados",listaProductos:ey,alterButton:"repuesto",onDelete:e=>{ab(e),q(!1)}})]})]}),(0,o.jsxs)("div",{className:s().subContenedor2,children:[(0,o.jsxs)("div",{className:s().herramientasInfo,children:[o.jsx(_.zx,{text:G?(0,o.jsxs)(o.Fragment,{children:[o.jsx("p",{children:"Visualizar"}),o.jsx(l(),{className:s().icon,name:"eye-outline"})]}):(0,o.jsxs)(o.Fragment,{children:[o.jsx("p",{children:"Ocultar"}),o.jsx(l(),{className:s().icon,name:"eye-off-outline"})]}),type:G?"contenido-light":"contenido-dark",onPress:()=>L(!G)}),o.jsx(_.zx,{text:"informaci\xf3n",type:W?"":"cancelar",onPress:()=>{X(!0),K(!1)}}),o.jsx(_.zx,{text:"Pagos",type:Y?"":"cancelar",onPress:()=>{X(!1),K(!0)}})]}),!G&&(0,o.jsxs)(o.Fragment,{children:[W&&(0,o.jsxs)("div",{className:s().scrollable,children:[o.jsx(m.Z,{municipio:en}),o.jsx(h.Z,{empleados:ei,encargado:er}),o.jsx(g.Z,{vehiculos:el})]}),Y&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:s().menuPagos,children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("p",{children:[o.jsx("b",{children:"Deuda: "}),F(eO)]}),(0,o.jsxs)("p",{children:[o.jsx("b",{children:"Abono: "}),F(eG)]}),(0,o.jsxs)("p",{children:[o.jsx("b",{children:"Saldo Restante:"})," ",eT?"Cuenta saldada":F(af())]})]}),!eT&&o.jsx(_.zx,{text:ek?"Contraer":"Nuevo pago",type:ek?"":"cancelar",onPress:()=>eF(!ek)}),ek&&(0,o.jsxs)("div",{className:s().formulario,children:[(0,o.jsxs)("form",{children:[o.jsx("label",{children:"Monto:"}),o.jsx("input",{type:"number",min:0,className:s().input,value:eM,onChange:e=>eB(e.target.value)}),o.jsx("label",{children:"Fecha:"}),o.jsx("input",{type:"date",className:s().date,value:eQ,onChange:e=>eH(e.target.value)}),o.jsx("label",{children:"M\xe9todo de pago:"}),(0,o.jsxs)("select",{className:s().select,value:eW,onChange:e=>eX(e.target.value),children:[o.jsx("option",{value:"",children:"-Seleccione m\xe9todo-"}),o.jsx("option",{value:"efectivo",children:"Efectivo"}),o.jsx("option",{value:"transferencia",children:"Transferencia"})]}),(0,o.jsxs)("section",{className:s().sectionTextarea,children:[o.jsx("label",{children:"Comentario:"}),o.jsx("textarea",{className:s().textarea,value:eY,onChange:e=>eK(e.target.value)})]})]}),o.jsx(_.zx,{text:"Guardar",type:"cancelar",onPress:()=>aS()})]})]}),0!=e0.length?o.jsx("div",{className:s().scrollablePagos,children:e0.map(e=>o.jsx(v.Z,{pago:e},e.pag_id))}):o.jsx("div",{className:s().errorContent,children:o.jsx("p",{className:s().textNoFound,children:"No hay pagos"})})]})]})]})]}),o.jsx(_.u_,{title:"Finalizar Entrega",show:P,message:"\xbfDesea finalizar la entrega?",handleAccept:()=>{aD(),$(!0),ay()},handleClose:()=>C(!1)}),o.jsx(_.u_,{title:"Nuevo Pago",show:e3,message:"\xbfDesea agregar el nuevo pago?",handleAccept:()=>{aN()},handleClose:()=>e8(!1)}),o.jsx(_.u_,{show:ae,title:"Devolver Producto",message:"Si devuelves un producto no podras deshacer la acci\xf3n, \xbfDeseas Continuar?",handleClose:()=>aa(!1),handleAccept:()=>{aa(!1),aw()}}),o.jsx(_.bZ,{title:"Datos del pago invalidos",message:"Por favor, complete todos los campos o introdusca un monto valido",show:e6,handleAccept:()=>e5(!1)}),o.jsx(_.bZ,{title:"Falta saldo por paga",message:"A\xfan queda saldo por cubrir y puede que algunos productos no se hagan repuesto o entregado",show:e7,handleAccept:()=>e9(!1)}),o.jsx(T.Z,{show:Z})]})}},28428:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});var o=t(10326),n=t(73730),s=t.n(n);let r=function({show:e}){return o.jsx("div",{className:`${s().modal} ${e?s().show:""}`,children:(0,o.jsxs)("div",{className:s().contenedor,children:[o.jsx("div",{className:s().cuadrado1}),o.jsx("div",{className:s().cuadrado2})]})})}},32270:e=>{e.exports={navegacion:"page_navegacion__GIUzK",link:"page_link__bD9Dz",herramientas:"page_herramientas__h_Try",contenido:"page_contenido__z5FwG",herramientasInfo:"page_herramientasInfo__49gyc",icon:"page_icon__tpOFR",herramientasContenido:"page_herramientasContenido__HVc3h",menuContenidoEntrega:"page_menuContenidoEntrega__4Q7si",select:"page_select__UZocY",option:"page_option__f6DQy",inputNumberContainer:"page_inputNumberContainer__6FMhT",inputNumber:"page_inputNumber___PWfr",subContenedor1:"page_subContenedor1__oBjxr",subContenedor2:"page_subContenedor2__6Gr3n",scrollable:"page_scrollable__kCP_k",scrollablePagos:"page_scrollablePagos__p_RfA",loadingScreen:"page_loadingScreen__6Z87Q",error:"page_error__Om_HN",textIcon:"page_textIcon__b5ivf",textNoFound:"page_textNoFound__ACwKG",textError:"page_textError__EOe_c",errorContent:"page_errorContent__TiVPw",menuPagos:"page_menuPagos__NgZUA",formulario:"page_formulario__Oet_h",input:"page_input__weZ0E",date:"page_date__CY0FC",sectionTextarea:"page_sectionTextarea__8eXEm",textarea:"page_textarea__nc5d8",menuDevolucion:"page_menuDevolucion__h7WBJ",selecDevolver:"page_selecDevolver__GEf2O",selecIzq:"page_selecIzq__6ucFx",inputDevolver:"page_inputDevolver__GSNyO"}},18560:e=>{e.exports={header:"VentaIndividual_header__25Dp0",container:"VentaIndividual_container__6_kvg",fooder:"VentaIndividual_fooder___Ne1c",titulo:"VentaIndividual_titulo__E7VgP",texto:"VentaIndividual_texto__jyrCW",nombre:"VentaIndividual_nombre__LTnlW",disponible:"VentaIndividual_disponible__Qucpn",precio:"VentaIndividual_precio__qIzbB",vender:"VentaIndividual_vender__uURD3",input:"VentaIndividual_input__8hXaU"}},14631:e=>{e.exports={header:"VisualizarDevueltos_header__fbNuh",container:"VisualizarDevueltos_container__9lynv",fooder:"VisualizarDevueltos_fooder__gYJqN",titulo:"VisualizarDevueltos_titulo__uj4aA",texto:"VisualizarDevueltos_texto__wglH4",nombre:"VisualizarDevueltos_nombre__EUciG",cantidad:"VisualizarDevueltos_cantidad__jl0HL",deshacer:"VisualizarDevueltos_deshacer__3xXAV"}},73730:e=>{e.exports={cuadrado1:"LoadingData_cuadrado1__x1QGj",cuadrado2:"LoadingData_cuadrado2__hOwqp",moverCuadrado1:"LoadingData_moverCuadrado1__vWwXS",moverCuadrado2:"LoadingData_moverCuadrado2__gm3Qs",modal:"LoadingData_modal__Rqj2p",show:"LoadingData_show__jLq8l"}},41434:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>o});let o=(0,t(68570).createProxy)(String.raw`C:\Users\eloym\Documents\Fundacion Jalisco\fj_sistema_gen\src\app\entregas\recibido\page.jsx#default`)}};var a=require("../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),o=a.X(0,[8948,1404,434,4424,7330],()=>t(98996));module.exports=o})();